<!DOCTYPE html>
<html>

<head>
    <title>README.md</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    
<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

html,footer,header{
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Custom MD PDF CSS
 */
html,footer,header{
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";

 }
body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>
<link rel="stylesheet" href="file:///home/eprogramar/workspace/fiap-tech-challenge-delivery-project/R%3A%5C2.Travail%5C1.Enseignement%5CCours%5C_1.Outils%5C2.Developpement%5C1.SCSS%5Cmain.css" type="text/css"><link rel="stylesheet" href="file:///home/eprogramar/workspace/fiap-tech-challenge-delivery-project/D%3A%5Crdaros%5CCours%5C_1.Outils%5C2.Developpement%5C1.SCSS%5Cmain.css" type="text/css">
</head>

<body>
    <h1 id="tech-challenge-delivery-project">Tech Challenge Delivery Project</h1>
<p>Projeto entregável da Pós de Arquitetura de Software na FIAP</p>
<h2 id="descri%C3%A7%C3%A3o">Descrição</h2>
<p>Este projeto é um desafio proposto pela FIAP para a disciplina de Arquitetura de Software. O objetivo é criar uma aplicação que simule um sistema de restaurante usando AWS com IaaC/Terraform, AWS EKS, Lambdas, API Gateway.</p>
<h2 id="tecnologias">Tecnologias</h2>
<ul>
<li>Terraform</li>
<li>AWS</li>
<li>AWS EKS</li>
<li>AWS Lambda</li>
<li>AWS API Gateway</li>
<li>AWS RDS</li>
</ul>
<h2 id="arquitetura">Arquitetura</h2>
<p>TODO - Usar <a href="https://mermaid.js.org/intro/">mermaid</a> para desenhar a arquitetura</p>
<h2 id="como-provisionar-a-infraestrutura">Como provisionar a infraestrutura</h2>
<h3 id="pr%C3%A9-requisitos">Pré-requisitos</h3>
<ul>
<li><input type="checkbox" id="checkbox0"><label for="checkbox0">Conta na AWS</label></li>
<li><input type="checkbox" id="checkbox1"><label for="checkbox1">Terraform instalado</label></li>
<li><input type="checkbox" id="checkbox2"><label for="checkbox2">AWS CLI configurado</label></li>
<li><input type="checkbox" id="checkbox3"><label for="checkbox3">Kubectl instalado</label></li>
<li><input type="checkbox" id="checkbox4"><label for="checkbox4">Docker instalado</label></li>
</ul>
<h2 id="entreg%C3%A1vel">Entregável</h2>
<h3 id="dando-continuidade-ao-desenvolvimento-do-software-para-a-lanchonete-teremos-as-seguintes-melhorias-e-altera%C3%A7%C3%B5es">Dando continuidade ao desenvolvimento do software para a lanchonete, teremos as seguintes melhorias e alterações:</h3>
<ul>
<li><input type="checkbox" id="checkbox5" checked="true"><label for="checkbox5">1. Implementar um API Gateway e um function serverless para autenticar o cliente com base no CPF:</label>
<ul>
<li><input type="checkbox" id="checkbox6"><label for="checkbox6">a. Integrar ao sistema de autenticação para identificar o cliente.</label></li>
</ul>
</li>
<li><input type="checkbox" id="checkbox7" checked="true"><label for="checkbox7">2. Implementar as melhores práticas de CI/CD para a aplicação, segregando os códigos em repositórios, por exemplo:</label>
<ul>
<li><input type="checkbox" id="checkbox8" checked="true"><label for="checkbox8">2.a - repositório para o Lambda -&gt; https://github.com/fabianogoes/fiap-tech-challenge-authorizer-lambda</label></li>
<li><input type="checkbox" id="checkbox9" checked="true"><label for="checkbox9">2.b - repositório para sua infra Kubernetes com Terraform -&gt; https://github.com/fabianogoes/fiap-tech-challenge-cluster-eks-terraform</label></li>
<li><input type="checkbox" id="checkbox10" checked="true"><label for="checkbox10">2.c - repositório para sua infra banco de dados gerenciaveis com Terraform -&gt; https://github.com/fabianogoes/fiap-tech-challenge-rds-postgres-terraform</label></li>
<li><input type="checkbox" id="checkbox11" checked="true"><label for="checkbox11">2.d - repositório para sua aplicação que é executada no Kubernetes -&gt; https://github.com/fabianogoes/fiap-tech-challenge-restaurant-api</label></li>
</ul>
</li>
<li><input type="checkbox" id="checkbox12" checked="true"><label for="checkbox12">3. Os repositórios devem fazer deploy automatizado na conta da nuvem utilizando actions. As branchs main/master devem ser protegidas não permitindo commits direto. Sempre utilize pull request.</label></li>
<li><input type="checkbox" id="checkbox13" checked="true"><label for="checkbox13">4. Melhorar a estrutura do banco de dados escolhido, documentar seguindo os padrões de modelagem de dados e justificar a escolha do banco de dados.</label></li>
<li><input type="checkbox" id="checkbox14" checked="true"><label for="checkbox14">5. Você tem a liberdade para escolher qual a infra de nuvem desejar, mas terá de utilizar os serviços serverless: functions (AWS Lamba, Azure functions ou Google Functions, por exemplo), banco de dados gerenciáveis (AWS RDS, Banco de Dados do Azure ou Cloud SQL no GCP, por exemplo), sistema de autenticação (AWS Cognito, Microsoft AD ou Google Identity platform no GCP, por exemplo).</label></li>
</ul>
<h3 id="os-artefatos-de-entrega-s%C3%A3o">OS ARTEFATOS DE ENTREGA SÃO:</h3>
<ul>
<li><input type="checkbox" id="checkbox15" checked="true"><label for="checkbox15"> PDF com o link do </label><strong>repositório</strong> público ou com acesso dos docentes. Esse repositório deve conter todos os códigos (inclusive o Terraform e Cl/CD actions)</li>
<li><input type="checkbox" id="checkbox16" checked="true"><label for="checkbox16"> PDF com a URL de um </label><strong>video</strong> com a explicação da infraestrutura utilizada na nuvem escolhida.<br>
Nesse vídeo, o(a) estudante deverá explicar qual a função do serviço e como ele foi montado.</li>
</ul>
<h3 id="passo-a-passo">Passo a passo</h3>
<ol>
<li>Iniciar AWS Academy e configurar AWS CLI com as credenciais</li>
<li>Provisionar a infraestrutura do RDS PostgreSQL <code>make postgres</code> e verificar a criação do banco de dados usando algum cliente SQL</li>
<li>Provisionar a infraestrutura do EKS <code>make eks</code>, aguardar até que o cluster esteja pronto e criar o nodegroup e aguardar até que o nodegroup esteja pronto</li>
<li>Configurar o kubectl para acessar o cluster <code>make eks-config</code></li>
<li>Gerar a nova secret do banco de dados para o Host <code>echo 'tech-challenge-db.czj1nxgd8v9c.us-east-1.rds.amazonaws.com' | base64</code> e atualizar o arquivo <code>k8s/secret.yaml</code> com o valor gerado</li>
<li>Aplicar os manifestos do Kubernetes da API
<ol>
<li><code>kubectl apply -f k8s/secret.yaml</code></li>
<li><code>kubectl apply -f k8s/deployment.yaml</code></li>
<li><code>kubectl apply -f k8s/service.yaml</code></li>
<li><code>kubectl apply -f k8s/hpa.yaml</code></li>
</ol>
</li>
<li>Provisionar a infraestrutura das Lambdas <code>make lambdas</code></li>
<li>Deploy das lambdas usando GitHub Actions</li>
<li>TODO: Provisionar a infraestrutura do API Gateway</li>
</ol>
<h2 id="todo">TODO</h2>
<ul>
<li><input type="checkbox" id="checkbox17" checked="true"><label for="checkbox17">Documentar a arquitetura</label></li>
<li><input type="checkbox" id="checkbox18" checked="true"><label for="checkbox18">Documentar o modelo de dados</label></li>
<li><input type="checkbox" id="checkbox19" checked="true"><label for="checkbox19">Gravar o vídeo de explicação da infraestrutura</label></li>
<li><input type="checkbox" id="checkbox20" checked="true"><label for="checkbox20">Criar PDF com os links dos repositórios e do vídeo</label></li>
</ul>
<p>=======</p>
<h2 id="todo-f3">TODO F3</h2>
<ul>
<li><input type="checkbox" id="checkbox21" checked="true"><label for="checkbox21">Implementar </label><code>API Gateway</code> com Authorizer JWT</li>
<li><input type="checkbox" id="checkbox22" checked="true"><label for="checkbox22">Implementar </label><code>Lambda Authorizer</code> usando Python e JWT</li>
<li><input type="checkbox" id="checkbox23" checked="true"><label for="checkbox23">Implementar IaaC usando </label><code>Terraform</code> para provissionar a Infra na AWS</li>
<li><input type="checkbox" id="checkbox24" checked="true"><label for="checkbox24">Implementar </label><code>RDS</code> para o banco de dados</li>
<li><input type="checkbox" id="checkbox25" checked="true"><label for="checkbox25">Implementar </label><code>CI/CD</code> usando <code>GitHUb Actions</code> fazer o deploy da API e do Authorizer</li>
<li><input type="checkbox" id="checkbox26" checked="true"><label for="checkbox26">Documentar a </label><code>arquitetura</code></li>
<li><input type="checkbox" id="checkbox27" checked="true"><label for="checkbox27">Documentar o </label><code>modelo de dados</code></li>
<li><input type="checkbox" id="checkbox28" checked="true"><label for="checkbox28">Gravar o </label><code>vídeo</code> de explicação da infraestrutura</li>
<li><input type="checkbox" id="checkbox29" checked="true"><label for="checkbox29">Criar </label><code>PDF</code> com os links dos repositórios e do vídeo</li>
</ul>
<h2 id="refer%C3%AAncias-importantes">Referências importantes</h2>
<ul>
<li><a href="https://medium.com/@dudkamv/nosql-capabilities-in-postgresql-9eec822886d9#:~:text=PostgreSQL%20as%20a%20Relational%20and%20NoSQL%20Database&amp;text=This%20dual%20capability%20is%20largely,integrity%20of%20a%20relational%20database">NoSQL Capabilities in PostgreSQL</a></li>
</ul>

</body>

</html>